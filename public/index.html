<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>我们的小学毕业纪念册</title>

    <!-- 样式表 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="vendor/photoswipe/photoswipe.css">
    <link rel="stylesheet" href="style.css">

    <!-- FAVICON 和 PWA -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <link rel="shortcut icon" href="assets/icons/favicon.ico">
    <meta name="theme-color" content="#1a1a1a" id="theme-color-meta">
</head>
<body class="theme-dark">
    <div id="loading-overlay"><div class="spinner"></div></div>

    <div id="dynamic-bg"></div>
    <div id="particles-js"></div>

    <header class="site-header">
        <div class="header-left">
            <button id="theme-toggle-btn" class="header-btn" aria-label="切换主题"><i class="fas fa-sun"></i></button>
            <button id="music-toggle-btn" class="header-btn" aria-label="播放音乐"><i class="fas fa-music"></i></button>
        </div>
        <div class="header-right">
            <button id="share-btn" class="header-btn" aria-label="分享"><i class="fas fa-share-alt"></i></button>
            <button id="fullscreen-btn" class="header-btn" aria-label="全屏"><i class="fas fa-expand"></i></button>
        </div>
    </header>

    <main class="container">
        <h1 id="main-title">我们的小学毕业纪念册</h1>
        <p id="main-text">正在加载时间...</p>
        <div id="timer"></div>
        <div id="hitokoto-wrapper">
            <p id="hitokoto-text">『 正在获取一言... 』</p>
            <p id="hitokoto-from">--&nbsp;一言</p>
        </div>

        <div id="verification-gate" class="content-section">
            <h3>时光之钥</h3>
            <p>请输入我们的“板子编号”，解锁尘封的回忆。</p>
            <input type="text" id="verification-input" placeholder="请输入板子编号...">
            <button id="verify-btn">开启时光胶囊</button>
        </div>
        
        <div id="unlocked-content" class="hidden">
            <div id="info-card" class="content-section"></div>
            <div class="tabs"></div>
            <div id="tab-content-container">
                <div id="tab-photos" class="tab-content">
                    <div class="pswp-gallery" id="photo-gallery"></div>
                </div>
                <div id="tab-messages" class="tab-content">
                    <div id="message-list"></div>
                    <form id="message-form">
                        <input type="text" id="message-username" placeholder="你的名字" required maxlength="50">
                        <textarea id="message-content" placeholder="在此留下你的祝福吧..." required maxlength="500"></textarea>
                        <button type="submit">提交留言</button>
                    </form>
                </div>
            </div>
        </div>
    </main>
    
    <audio id="background-audio" loop></audio>

    <script src="vendor/particles.min.js"></script>
    <script src="config.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>